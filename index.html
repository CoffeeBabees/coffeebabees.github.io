<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CoffeeBabees Coffee</title>
  <style>
    :root {
      --primary: #5c3d2e;
      --secondary: #b85c38;
      --accent: #e0c097;
      --light: #f5f5f5;
      --dark: #2d2424;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: var(--light);
      color: var(--dark);
      line-height: 1.6;
    }
    
    header {
      background-color: var(--primary);
      color: var(--light);
      padding: 1rem;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .logo {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--accent);
    }
    
    .nav-links {
      display: flex;
      list-style: none;
      gap: 2rem;
    }
    
    .nav-links a {
      color: var(--light);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }
    
    .nav-links a:hover {
      color: var(--accent);
    }
    
    .mobile-menu {
      display: none;
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    section {
      padding: 4rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .hero {
      min-height: 80vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/images/CoffeBabeeMain-1600-1200.jpg') center/cover no-repeat;
      color: white;
      padding: 2rem;
      margin-top: -1rem;
    }
    
    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      color: var(--light);
    }
    
    .hero p {
      font-size: 1.2rem;
      max-width: 800px;
      margin-bottom: 2rem;
    }
    
    .btn {
      padding: 0.8rem 2rem;
      background-color: var(--secondary);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
      transition: background-color 0.3s, transform 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn:hover {
      background-color: var(--primary);
      transform: translateY(-3px);
    }
    
    h2 {
      font-size: 2.5rem;
      margin-bottom: 2rem;
      text-align: center;
      color: var(--primary);
    }
    
    .about-content {
      display: flex;
      gap: 3rem;
      align-items: center;
    }
    
    .about-text {
      flex: 1;
    }
    
    .about-image {
      flex: 1;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .about-image img {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }
    
    .menu-item {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }
    
    .menu-item:hover {
      transform: translateY(-10px);
    }
    
    .menu-image {
      height: 200px;
      overflow: hidden;
    }
    
    .menu-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .menu-info {
      padding: 1.5rem;
    }
    
    .menu-info h3 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }
    
    .menu-info p {
      color: var(--dark);
      margin-bottom: 1rem;
    }
    
    .price {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--secondary);
    }
    
    .contact-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .newsletter-container {
      background-color: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 600px;
      margin-top: 2rem;
      margin-bottom: 2rem;
    }
    
    .newsletter-heading {
      text-align: center;
      margin-bottom: 1rem;
    }
    
    .newsletter-heading h3 {
      font-size: 1.5rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    
    .newsletter-heading p {
      color: var(--dark);
    }
    
    /* This container will hold your Mailchimp embed code */
    .mailchimp-container {
      width: 100%;
      min-height: 450px; /* Increase minimum height to accommodate the form */
      max-width: 600px;
      margin: 0 auto;
      overflow: visible; /* Keep overflow visible */
    }
    
    .contact-info {
      margin-top: 2rem;
      text-align: center;
    }
    
    .contact-info p {
      margin-bottom: 1rem;
      font-size: 1.1rem;
    }
    
    .contact-info a {
      color: var(--secondary);
      text-decoration: none;
      font-weight: 500;
    }
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    .social-links a {
      color: var(--primary);
      font-size: 1.5rem;
      transition: color 0.3s;
    }
    
    .social-links a:hover {
      color: var(--secondary);
    }
    
    .location {
      margin-top: 3rem;
      width: 100%;
    }
    
    .map-container {
      height: 400px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    footer {
      background-color: var(--primary);
      color: var(--light);
      padding: 2rem 1rem;
      text-align: center;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 2rem;
    }
    
    .footer-section {
      flex: 1;
      min-width: 250px;
    }
    
    .footer-section h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: var(--accent);
    }
    
    .footer-section p, .footer-section a {
      color: var(--light);
      margin-bottom: 0.5rem;
      display: block;
      text-decoration: none;
    }
    
    .footer-section a:hover {
      color: var(--accent);
    }
    
    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 1rem;
      margin-top: 2rem;
      text-align: center;
      font-size: 0.9rem;
    }
    
    @media (max-width: 768px) {
      .nav-links {
        position: fixed;
        background-color: var(--primary);
        top: 60px;
        left: 0;
        width: 100%;
        flex-direction: column;
        gap: 0;
        transform: translateY(-150%);
        transition: transform 0.3s ease;
        padding: 1rem 0;
        z-index: 99;
      }
      
      .nav-links.active {
        transform: translateY(0);
      }
      
      .nav-links li {
        width: 100%;
        text-align: center;
        padding: 1rem 0;
      }
      
      .mobile-menu {
        display: block;
      }
      
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .about-content {
        flex-direction: column;
      }
      
      section {
        padding: 2rem 1rem;
      }
      
      .mailchimp-container {
        width: 100%;
        overflow-x: visible;
      }
    }

    /* Mailchimp Form Styling - UPDATED */
    #mc_embed_signup {
      background: transparent; /* Make background transparent instead of white */
      clear: left;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Match your site's font */
      width: 100%; /* Use 100% width to be fully responsive */
      max-width: 600px;
      margin: 0 auto;
      padding-bottom: 20px; /* Reduced from 60px */
    }

    /* Style the input fields */
    #mc_embed_signup input[type="email"], 
    #mc_embed_signup input[type="text"] {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
      margin-bottom: 1rem;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    /* FIXED: Style the submit button to match your site's buttons */   
    #mc_embed_signup .button,
    #mc_embed_signup input[type="submit"] {
      padding: 0.8rem 2rem !important;
      background-color: var(--secondary) !important;
      color: white !important;
      border: none !important;
      border-radius: 5px !important;
      cursor: pointer !important;
      font-size: 1rem !important;
      font-weight: bold !important;
      transition: background-color 0.3s, transform 0.2s !important;
      width: 100% !important; /* Make it full width */
      max-width: 200px !important; /* But with a max-width */
      display: block !important; /* Block display */
      margin: 0 auto !important; /* Center it */
      position: relative; /* Add position relative */
      z-index: 5; /* Add z-index to ensure button appears above other elements */
      margin-bottom: 10px !important; /* Reduced from 30px */
      margin-top: 10px !important; /* Reduced from 20px */
      height: auto !important; /* Force height to auto */
      min-height: 44px !important; /* Ensure minimum height */
    }

    #mc_embed_signup .button:hover,
    #mc_embed_signup input[type="submit"]:hover {
      background-color: var(--primary);
      transform: translateY(-3px);
    }

    /* Style labels */
    #mc_embed_signup label {
      font-weight: 500;
      color: var(--primary);
      margin-bottom: 0.5rem;
      display: block;
    }

    /* Fix for the form container */
    #mc_embed_signup form {
      padding: 10px !important;
      padding-bottom: 20px !important; /* Reduced from 50px */
      margin-bottom: 0 !important;
    }

    .about-text p + p {
      border-top: 1px solid #ccc;  /* Light gray line */
      padding-top: 1rem;
      margin-top: 1rem;
    }

    /* Menu loading state */
    .menu-loading {
      text-align: center;
      width: 100%;
      padding: 2rem;
      font-size: 1.2rem;
      color: var(--dark);
    }

    /* Fix for the footer of the form */
    #mc_embed_signup .foot {
      padding-bottom: 10px !important; /* Reduced from 40px */
      min-height: 40px !important; /* Reduced from 60px */
      position: relative !important;
      overflow: visible !important;
    }

    /* Fix specifically for the Mailchimp badge container */
    .optionalParent {
      margin-bottom: 0 !important;
    }

    /* Additional fix for clearing float issues */
    .clear {
      clear: both !important;
      display: block !important;
      overflow: visible !important;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="logo">CoffeeBabees</div>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#menu">Menu</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <div class="mobile-menu">☰</div>
    </nav>
  </header>

  <section id="home" class="hero">
    <h1>Welcome to CoffeeBabees</h1>
    <p>Artisanal coffee in the heart of the city. Experience coffee crafted with passion and precision.</p>
    <a href="#contact" class="btn">Join Our Newsletter</a>
  </section>

  <section id="about">
    <h2>Our Story</h2>
    <div class="about-content">
      <div class="about-text">
        <p>In 2007 we began to develop, explore, and learn about better coffee. We have a loyal following of like-minded adventurers who love to taste what we have on the list. We have been roasting three or four coffees a month to fill orders. Today, we are taking orders anytime for most of the coffee we have in stock sourced from thoughtful farmers around the world.</p>
        <p>We love to help others brew better. It is, after all, just coffee and water, so the required tools and equipment don't have to break the bank.  Reach out for better brewing techniques. Buying fresh coffee from us and asking us to grind it means you can feel good about contributing to the pro-life cause, but you are drinking coffee that has lost most of its flavor.</p>
        <p>We contribute monthly to pro-life initiatives and changed our name to CoffeeBabees in 2016 to better reflect our passion to save babies.</p>
      </div>
      <div class="about-image">
        <img src="/images/about-600-600.jpg" alt="Coffee Bag Photo">
      </div>
    </div>
  </section>

  <section id="menu">
    <h2>Our Menu</h2>
    <div class="menu-grid">
      <!-- Menu items will be dynamically loaded from Google Sheets -->
      <div class="menu-loading">Loading our delicious menu items...</div>
    </div>
  </section>

  <section id="contact">
    <h2>Stay Connected</h2>
    <div class="contact-container">
      <div class="newsletter-container">
        <div class="newsletter-heading">
          <!-- Newsletter heading content -->
        </div>
  
        <!-- Mailchimp Embed Container -->
        <div class="mailchimp-container">
          <div id="mc_embed_shell">
            <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">

            <div id="mc_embed_signup">
              <form action="https://facebook.us12.list-manage.com/subscribe/post?u=5804ceacbf11e42e6acfec863&amp;id=ddd78e6de9&amp;f_id=009c09e9f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
                <div id="mc_embed_signup_scroll"><h2>Join CoffeeBabees Monthly Roast List</h2>
                  <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                  <div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label><input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required="" value=""></div>
                  <div class="mc-field-group"><label for="mce-FNAME">First Name </label><input type="text" name="FNAME" class=" text" id="mce-FNAME" value=""></div>
                  <div class="mc-field-group"><label for="mce-LNAME">Last Name </label><input type="text" name="LNAME" class=" text" id="mce-LNAME" value=""></div>
                  <div id="mce-responses" class="clear foot">
                    <div class="response" id="mce-error-response" style="display: none;"></div>
                    <div class="response" id="mce-success-response" style="display: none;"></div>
                  </div>
                  <div aria-hidden="true" style="position: absolute; left: -5000px;">
                    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups -->
                    <input type="text" name="b_5804ceacbf11e42e6acfec863_ddd78e6de9" tabindex="-1" value="">
                  </div>
                  <div class="optionalParent">
                    <div class="clear foot">
                      <input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe">
                      <p style="margin: 0px auto;"><a href="http://eepurl.com/i1NMrk" title="Mailchimp - email marketing made easy and fun"><span style="display: inline-block; background-color: transparent; border-radius: 4px;"><img class="refferal_badge" src="https://digitalasset.intuit.com/render/content/dam/intuit/mc-fe/en_us/images/intuit-mc-rewards-text-dark.svg" alt="Intuit Mailchimp" style="width: 220px; height: 40px; display: flex; padding: 2px 0px; justify-content: center; align-items: center;"></span></a></p>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
            <script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='MMERGE3';ftypes[3]='imageurl';fnames[4]='TEXTAREAY';ftypes[4]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
          </div>
        </div>
            
        <div class="contact-info">
          <p>Have questions? Contact us at: <a href="mailto:hello@brewhaven.com">hello@brewhaven.com</a></p>
          <p>Or follow us on social media:</p>
          <div class="social-links">
            <a href="https://www.facebook.com/coffeebabees/" aria-label="Facebook">FB</a>
            <a href="http://instagram.com/coffeebabees" aria-label="Instagram">IG</a>
            <a href="http://tiktok.com/@coffeebabees" aria-label="Tiktok">TT</a>
          </div>
        </div>
        
        <div class="location">
          <h3>Find Us</h3>
          <div class="map-container">
            <img src="/api/placeholder/1200/400" alt="Map of coffee shop location" style="width:100%; height:100%; object-fit:cover;">
          </div>
          <p>123 Coffee Street, Downtown, City, ST 12345</p>
          <p>Open Monday - Friday: 6am - 8pm | Weekends: 7am - 9pm</p>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>CoffeeBabees</h3>
        <p>Crafting exceptional coffee experiences since 2018.</p>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="#home">Home</a>
        <a href="#about">About Us</a>
        <a href="#menu">Menu</a>
        <a href="#contact">Contact</a>
      </div>
      
      <div class="footer-section">
        <h3>Contact</h3>
        <p>123 Coffee Street</p>
        <p>Downtown, City, ST 12345</p>
        <p>hello@brewhaven.com</p>
        <p>(555) 123-4567</p>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 CoffeeBabees Coffee Shop. All rights reserved.</p>
    </div>
  </footer>

  <!-- Google Sheets Integration Script -->
  <script>
// Configuration - Use the full published sheet URL
    const PUBLISHED_SHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTLxdwQgn12mJ2omdJGk9lTI3rc1YQ-ucCgzm4-6GmoD3xcTPd10O0QDsAWyLfduBKrQB6iMU6tKm1e/pub?gid=0&single=true&output=csv';

    // Function to fetch menu data from Google Sheets
    async function fetchMenuItems() {
    try {
        // Use the full published URL directly
        const response = await fetch(PUBLISHED_SHEET_URL);
        if (!response.ok) {
        throw new Error('Failed to fetch menu data');
        }
        
        const csvText = await response.text();
        const items = parseCSV(csvText);
        return items;
    } catch (error) {
        console.error('Error fetching menu data:', error);
        return []; // Return empty array on error
    }
    }

    // Simple CSV parser function
    function parseCSV(text) {
    const rows = text.split('\n');
    // Skip the header row by starting from index 1
    return rows.slice(1).map(row => {
        // Handle quoted values that might contain commas
        const result = [];
        let insideQuotes = false;
        let currentValue = '';
        
        for (let i = 0; i < row.length; i++) {
        const char = row[i];
        
        if (char === '"' && (i === 0 || row[i-1] !== '\\')) {
            insideQuotes = !insideQuotes;
        } else if (char === ',' && !insideQuotes) {
            result.push(currentValue.trim().replace(/^"|"$/g, ''));
            currentValue = '';
        } else {
            currentValue += char;
        }
        }
        
        if (currentValue) {
        result.push(currentValue.trim().replace(/^"|"$/g, ''));
        }
        
        // Get the raw image URL from the spreadsheet
        let imageUrl = result[3] || '';
        
        // Format: [Title, Description, Price, ImageURL]
        return {
        title: result[0] || '',
        description: result[1] || '',
        price: result[2] || '',
        // Process Google Drive URLs to ensure they work correctly
        imageUrl: imageUrl || '/api/placeholder/400/300' // Fallback to placeholder if no URL
        };
    }).filter(item => item.title); // Filter out empty rows
    }

    // Function to render menu items to the page
    function renderMenuItems(items) {
    const menuGrid = document.querySelector('.menu-grid');
    if (!menuGrid) return;
    
    // Clear existing menu items
    menuGrid.innerHTML = '';
    
    if (items.length === 0) {
        menuGrid.innerHTML = `
        <div class="menu-loading">
            No menu items found. Please check your Google Sheet configuration.
        </div>
        `;
        return;
    }
    
    // Add new menu items from Google Sheet
    items.forEach(item => {
        const menuItemHTML = `
        <div class="menu-item">
            <div class="menu-image">
                <img src="${item.imageUrl}" alt="${item.title}" onerror="this.src='/api/placeholder/400/300'; this.onerror=null;">
            </div>
            <div class="menu-info">
                <h3>${item.title}</h3>
                <p>${item.description}</p>
                <span class="price">${item.price}</span>
            </div>
        </div>
        `;
        
        menuGrid.innerHTML += menuItemHTML;
    });
    }

    // Initialize menu on page load
    document.addEventListener('DOMContentLoaded', async () => {
    // Fetch and render menu items
    const menuItems = await fetchMenuItems();
    renderMenuItems(menuItems);
    });
  </script>

  <!-- Mobile Menu Toggle Script -->
  <script>
    // Mobile menu toggle
    document.querySelector('.mobile-menu').addEventListener('click', function() {
      document.querySelector('.nav-links').classList.toggle('active');
    });
    
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 60,
            behavior: 'smooth'
          });
          
          // Close mobile menu if open
          document.querySelector('.nav-links').classList.remove('active');
        }
      });
    });
  </script>
</body>
</html>